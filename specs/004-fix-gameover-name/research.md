# 研究：修正遊戲結束對話框中顯示錯誤的球員名稱

**功能**: 修正遊戲結束對話框中顯示錯誤的球員名稱
**狀態**: 完成

## 決策

### 1. 更新 `GameEndedEventArgs`
- **決策**: 在 `GameEndedEventArgs` 中新增 `WinnerName` 屬性（字串）。
- **理由**: 目前的事件參數僅攜帶 `Side` 列舉。為了顯示名稱，UI 需要知道 `Player` 物件，或者引擎需要傳遞名稱。在事件中傳遞名稱是解耦 UI 與引擎內部球員對應狀態的最乾淨方式。
- **考量的替代方案**:
    - *在引擎中公開球員*: UI 可以根據 `Side` 存取 `_gameEngine.PlayerA.Name`。然而，這需要 UI 擁有更多邏輯來將 `Side` 對應到 `Player`。
    - *傳遞球員物件*: 在事件中傳遞整個 `Player` 物件。這也是有效的，但可能會暴露超出需要的資訊。僅傳遞名稱對於此需求來說已經足夠。

### 2. 更新 `PongEngine`
- **決策**: 在 `HandleScore` 中，當遊戲結束時，取得獲勝球員的名稱並將其傳遞給 `GameEndedEventArgs` 建構函式。
- **理由**: 引擎知道哪個球員對應哪一邊，並且可以存取 `Player` 實體。

## 未知事項與釐清

- 無。程式碼庫已充分理解。
