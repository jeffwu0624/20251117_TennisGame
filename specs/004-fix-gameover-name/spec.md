# 功能規格書：修正遊戲結束對話框中顯示錯誤的球員名稱

**功能分支**: `004-fix-gameover-name`  
**建立日期**: 2025-11-23  
**狀態**: 草稿  
**輸入**: 使用者描述: "Fix incorrect player name display in Game Over dialog"

## 使用者情境與測試 *(必填)*

### 使用者故事 1 - 顯示正確的獲勝者名稱 (優先級: P1)

作為一名玩家，我希望在遊戲結束對話框中看到獲勝者的實際名稱，以便清楚知道誰贏了，而不是看到通用的內部識別碼。

**為什麼這個優先級**: 這是一個面向使用者的錯誤修復，該錯誤會導致困惑。

**獨立測試**: 可以透過使用自訂名稱進行一場短局遊戲並驗證最終對話框來測試。

**驗收情境**:

1. **假設** 遊戲開始時玩家 A 名為 "Alice"，玩家 B 名為 "Bob"，**當** Alice 贏得遊戲時，**則** 遊戲結束對話框顯示 "獲勝者: Alice"。
2. **假設** 遊戲開始時玩家 A 名為 "Alice"，玩家 B 名為 "Bob"，**當** Bob 贏得遊戲時，**則** 遊戲結束對話框顯示 "獲勝者: Bob"。

### 邊緣案例

- 當球員名稱為空時會發生什麼？（驗證邏輯應防止這種情況，但如果被繞過，應顯示空字串或備用文字）。

## 需求 *(必填)*

### 功能需求

- **FR-001**: 遊戲引擎必須在遊戲完成時識別獲勝球員的顯示名稱。
- **FR-002**: 遊戲結束事件必須將獲勝者的顯示名稱傳遞給 UI。
- **FR-003**: 遊戲結束對話框必須顯示獲勝者的顯示名稱，而不是內部方識別碼（例如 "PlayerA"）。

### 關鍵實體 *(如果功能涉及資料則包含)*

- **Player**: 代表參與者，具有 `Name`（顯示字串）和 `Side`（內部列舉）。
- **GameEndedEvent**: 攜帶有關遊戲結束的資訊，包括獲勝者的身分。

## 成功標準 *(必填)*

### 可測量的結果

- **SC-001**: 100% 的遊戲結束對話框顯示使用者提供的獲勝者名稱。
- **SC-002**: 遊戲流程或其他對話框內容沒有退步 (Regression)。

